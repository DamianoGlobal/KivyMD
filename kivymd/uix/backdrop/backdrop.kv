<MDBackdrop>
    canvas.before:
        Color:
            rgba: self._md_bg_color
        Rectangle:
            pos: self.pos
            size: self.size

    MDBackdropToolbar:
        id: toolbar
        title: root.title
        elevation: 0
        left_action_items: root.left_action_items
        right_action_items: root.right_action_items
        pos_hint: {"top": 1}
        md_bg_color: root._md_bg_color

    _BackLayer:
        id: back_layer
        cols: 1
        top: toolbar.y
        height: root.height-toolbar.height
        size_hint_y: None
        padding: 0, 0, 0, header_button.height + dp(8)

    _FrontLayer:
        id: _front_layer
        orientation: "vertical"
        size_hint_y: None
        height: root.height - toolbar.height
        padding: root.padding
        elevation: root.elevation
        radius:
            [root.radius_left, root.radius_left,
            0, 0]

        OneLineListItem:
            id: header_button
            text: root.header_text
            divider: None
            _no_ripple_effect: True
            on_press: root.open()

        MDBoxLayout:
            id: front_layer
            padding: 0, 0, 0, "10dp"
